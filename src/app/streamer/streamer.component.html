<div class="streamer-page-valid">
    <div class="heroSection">    
        <div class="userProfile" >        
            <div class="profile-header" *ngIf="!IsLoggedin()">                 
                <div class="profile-details"> 
                    <div class="login-buttons">                          
                        <button class="btn-google" (click)="loginWithGoogle()"></button>                    
                        <twitch-login scopes="user:read:email+openid+analytics:read:games" (callback)="twitchLoginCallback($event)" label="Login Twitch üöÄ"></twitch-login> 
                    </div>
                </div>
            </div>
            
            <div class="profile-header" *ngIf="IsLoggedin()"> 
                <div class="profile-details transparent">
                    <div class="profile-details-image">                        
                        <img  [src]="StreamerProfilePicture()" class="profile-picture-streamer">  
                    </div>
                    <div class="grid-details green-50o"> 
                        <h3> <b>{{userdataService.StreamerProfilePage.ChannelName}}</b> </h3> 
                        <p> <b>{{userdataService.StreamerProfilePage.LoyaltySettings.rewardPerMinute | currency:'':userdataService.StreamerProfilePage.LoyaltySettings.loyaltyName:'.0'}}</b> <b></b> / 10 minutes</p>
                    </div>
                </div>
                <div class="profile-details">
                    <img  [src]="ProfilePicture()" class="profile-picture">
                    <div class="grid-details">                    
                        <h3>{{userdataService.ViewerLoginProfile.UserName}}</h3>                    
                        <p *ngIf="!userdataService.ViewerLoginProfile.IsMember">Viewer</p>
                        <p *ngIf="userdataService.ViewerLoginProfile.IsMember">Subscriber</p>  
                        <div class="inline">
                            <i class="fa fa-refresh" (click)="refreshPoints()" [ngClass]="{'spin':refresh}" aria-hidden="true"></i> 
                            {{userdataService.ViewerCoinsOnCurrentShop | currency:'':userdataService.StreamerProfilePage.LoyaltySettings.loyaltyName:'.0'}}
                        </div>       
                        <button *ngIf="!userdataService.ViewerLoginProfile.IsVerified"
                        class="btn btn-danger"
                        (click)="userdataService.VerifyUserAccount()">Verifica Contul</button> 
                        <div class="logout">
                            <button (click)="OpenSettings()" class="small-button"><i class="fa fa-cogs" aria-hidden="true"></i>
                                Settings<sup *ngIf="userdataService.ViewerLoginProfile.HasNotifications" style="color: red;">‚óè</sup>
                            </button>
                            
                            <button (click)="userdataService.logOut()" class="small-button"><i class="fa fa-sign-out" aria-hidden="true"></i>Log Out</button>
                        </div>             
                    </div>
                </div>         
            </div>        
        </div>
    </div>
    
    <div class="settings-modal" *ngIf="IsModalOpen">    
        <div class="options-page" *ngIf="userdataService.SettingsOfThisPage.length > 0">        
            <div class="option" *ngFor="let item of userdataService.SettingsOfThisPage">
                <div class="option-nume">{{item.key}}</div>
                <input class="option-value" [(ngModel)]="item.value">
                <span>
                    <i class="fa fa-info-circle" aria-hidden="true"></i> {{item.reason}}
                </span> 
            </div>        
            <div class="options-page-buttons">
                <button (click)="SaveSettings()" class="btn btn-dark">Save</button>  
                <button (click)="OpenSettings()" class="btn btn-danger">Cancel</button>          
            </div>        
        </div>
        <div class="options-page" *ngIf="userdataService.SettingsOfThisPage.length == 0">
            <div class="h3">Streamer did not setup a settings page!</div>
            <button (click)="OpenSettings()" class="btn btn-danger">Close</button>
        </div>
        
    </div>
    <div class="navbar-streamer">
        <button class="btn btn-light" [routerLink]="['/streamer/'+userdataService.StreamerProfilePage.StreamerID+'/shop']"><i class="fa fa-shopping-cart" aria-hidden="true"> </i> Shop</button>
        <button class="btn btn-light" [routerLink]="['/streamer/'+userdataService.StreamerProfilePage.StreamerID+'/history']"><i class="fa fa-bar-chart" aria-hidden="true"></i> History</button>
        <button class="btn btn-light" [routerLink]="['/streamer/'+userdataService.StreamerProfilePage.StreamerID+'/giveaways']"><i class="fa fa-ticket" aria-hidden="true"></i> Giveaways</button>
        <button class="btn btn-light" [routerLink]="['/streamer/'+userdataService.StreamerProfilePage.StreamerID+'/casinos']"><i class="fa fa-gift" aria-hidden="true"></i> Casinos </button>
    </div>
    <div class="">
        <router-outlet></router-outlet>
    </div>
    
</div>

<div class="streamer-page-valid" *ngIf="!userdataService.IsValidStreamer">
    <h1>Looks like this streamer is not in our database, or he did not set up a shop page.</h1>
</div>